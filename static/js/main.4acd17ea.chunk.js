(this["webpackJsonpcryptocurrency-calculator"]=this["webpackJsonpcryptocurrency-calculator"]||[]).push([[0],{43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(19),l=a.n(r),i=a(4),s=a.n(i),u=a(9),o=a(2),d=a(7),b=a(10),j=a.n(b),p=new Date,O=p.getFullYear(),_=p.getMonth()+1,h=p.getDate()-1;_<=9&&(_="0"+_),h<=9&&(h="0"+h);var v=h+"-"+_+"-"+O,m=(a(43),a(0));var f=function(){var e,t=Object(c.useState)(""),a=Object(o.a)(t,2),n=a[0],r=a[1],l=Object(c.useState)(""),i=Object(o.a)(l,2),b=i[0],p=i[1],O=Object(c.useState)(""),_=Object(o.a)(O,2),h=_[0],f=_[1],x=Object(c.useState)(0),y=Object(o.a)(x,2),g=y[0],N=y[1],S=Object(c.useState)(0),k=Object(o.a)(S,2),C=k[0],w=k[1],D=Object(c.useState)(0),F=Object(o.a)(D,2),E=F[0],I=F[1],R=Object(c.useState)(0),Y=Object(o.a)(R,2),q=Y[0],B=Y[1],J=Object(c.useState)(0),M=Object(o.a)(J,2),T=M[0],U=M[1],G=Object(c.useState)(0),L=Object(o.a)(G,2),$=L[0],z=L[1],A=Object(c.useState)(""),H=Object(o.a)(A,2),K=H[0],P=H[1],Q=Object(c.useState)(0),V=Object(o.a)(Q,2),W=V[0],X=V[1],Z=Object(c.useState)(""),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ce=Object(c.useState)(""),ne=Object(o.a)(ce,2),re=ne[0],le=ne[1],ie=Object(c.useState)(!1),se=Object(o.a)(ie,2),ue=se[0],oe=se[1],de=Object(c.useState)(!1),be=Object(o.a)(de,2),je=be[0],pe=be[1],Oe=Object(c.useState)(!1),_e=Object(o.a)(Oe,2),he=_e[0],ve=_e[1],me=Object(c.useState)(!1),fe=Object(o.a)(me,2),xe=fe[0],ye=fe[1],ge=Object(c.useState)(!1),Ne=Object(o.a)(ge,2),Se=Ne[0],ke=Ne[1],Ce=Object(c.useState)(!1),we=Object(o.a)(Ce,2),De=we[0],Fe=we[1],Ee=Object(c.useState)(!0),Ie=Object(o.a)(Ee,2),Re=Ie[0],Ye=Ie[1],qe=Object(c.useState)(0),Be=Object(o.a)(qe,2),Je=Be[0],Me=Be[1],Te=Object(c.useState)(!0),Ue=Object(o.a)(Te,2),Ge=Ue[0],Le=Ue[1],$e=!je,ze=!je||!he,Ae=!je||!he||!xe||!De,He=n.toLowerCase().replace(/\s/g,"-");"bitcoin"===n&&(e="28-04-2013"),"ethereum"===n&&(e="07-08-2015"),"ripple"===n&&(e="04-08-2013"),"tether"===n&&(e="02-03-2015"),"dogecoin"===n&&(e="15-12-2013");var Ke,Pe=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.coingecko.com/api/v3/coins/".concat(He,"/history?date=").concat(b)).then((function(e){N(e.data.market_data.current_price.rub),w(e.data.market_data.current_price.usd),I(e.data.market_data.current_price.eur)})).catch((function(e){Me(1e-7)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.coingecko.com/api/v3/coins/".concat(He,"/history?date=").concat(h)).then((function(e){B(e.data.market_data.current_price.rub),U(e.data.market_data.current_price.usd),z(e.data.market_data.current_price.eur)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Pe()}),[b,n]),Object(c.useEffect)((function(){Qe()}),[n]),Object(c.useEffect)((function(){Qe(),Je>g?(Ye(!1),ve(!1),f("")):Me(0)}),[h]),Ke=W<=10?new Intl.NumberFormat("ru-RU").format(parseFloat(W).toFixed(2)):new Intl.NumberFormat("ru-RU").format(parseFloat(W).toFixed(0)),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{children:"Crypto Calculator"}),Object(m.jsxs)("form",{className:"calculator__container",children:[Object(m.jsx)("div",{className:"calculator__field",children:Object(m.jsxs)("select",{className:"cruptocurrency__name  ".concat($e?"disabled":"valid"),name:"coinname",type:"text",placeholder:"\u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u0443",value:n,onChange:function(e){r(e.target.value),pe(e.target.validity.valid)},required:!0,children:[Object(m.jsx)("option",{className:"cruptocurrency__name-option",value:"",selected:!0,disabled:!0,hidden:!0,children:"\u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u0443"}),Object(m.jsx)("option",{value:"bitcoin",children:"Bitcoin"}),Object(m.jsx)("option",{value:"ethereum",children:"Ethereum"}),Object(m.jsx)("option",{value:"dogecoin",children:"Dogecoin"}),Object(m.jsx)("option",{value:"ripple",children:"Ripple"}),Object(m.jsx)("option",{value:"tether",children:"Tether"})]})}),Object(m.jsxs)("div",{className:"calculator__field-date",children:[Object(m.jsx)(d.a,{className:"cruptocurrency__input ".concat($e?"disabled":"valid"),name:"buydate",type:"text",format:"##-##-####",mask:["_","_","_","_","_","_","_","_"],placeholder:"\u0434\u0430\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",autoComplete:"off",value:b,disabled:!n,onChange:function(e){p(e.target.value),ve(e.target.validity.valid)},pattern:"(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\\d\\d"}),Object(m.jsx)("button",{className:"btn__calculator ".concat($e?"btn_disabled":""),onClick:function(t){t.preventDefault(),ve(t.target.validity.valid),p(e)},disabled:!n,children:"\u043f\u0435\u0440\u0432\u044b\u0439 \u0434\u0435\u043d\u044c"})]}),!Re&&Object(m.jsx)("span",{className:"error__date-buy",children:'\u0442\u0430\u043a\u043e\u0439 \u0434\u0430\u0442\u044b \u043d\u0435\u0442\u0443 \u0432 \u0431\u0430\u0437\u0435, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u043e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0432\u0441\u0435" \u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u043a\u043d\u043e\u043f\u043a\u043e\u0439 "\u043f\u0435\u0440\u0432\u044b\u0439 \u0434\u0435\u043d\u044c"'}),Object(m.jsxs)("div",{className:"calculator__field-date",children:[Object(m.jsx)(d.a,{className:"cruptocurrency__input ".concat(ze?"disabled":"valid"),name:"selldate",type:"text",format:"##-##-####",mask:["_","_","_","_","_","_","_","_"],placeholder:"\u0434\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438",autoComplete:"off",value:h,disabled:!he,onChange:function(e){f(e.target.value),ye(e.target.validity.valid)},pattern:"(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\\d\\d"}),Object(m.jsx)("button",{className:"btn__calculator ".concat(ze?"btn_disabled":""),disabled:ze,onClick:function(e){e.preventDefault(),ye(e.target.validity.valid),f(v)},children:"\u0441\u0435\u0433\u043e\u0434\u043d\u044f"})]}),!Ge&&Object(m.jsx)("span",{className:"error__date-buy",children:"\u0434\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0434\u0430\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"}),Object(m.jsx)("div",{className:"calculator__field",children:Object(m.jsxs)("select",{className:"cruptocurrency__currency-name  ".concat(ze?"disabled":"valid"),name:"currency",type:"text",placeholder:"\u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",value:re,disabled:!xe,onChange:function(e){e.preventDefault(),le(e.target.value);var t=b.split("-"),a=h.split("-"),c=new Date,n=new Date;c.setFullYear(t[0],t[1]-1,t[2]),n.setFullYear(a[0],a[1]-1,a[2]),c>n?(le(""),ke(e.target.validity.unvalid),ye(!1),Le(!1)):(Le(!0),ke(e.target.validity.valid))},required:!0,children:[Object(m.jsx)("option",{className:"cruptocurrency__name-option",value:"",selected:!0,disabled:!0,hidden:!0,children:"\u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"}),Object(m.jsx)("option",{value:"rub",children:"\u0420\u0443\u0431\u043b\u0438"}),Object(m.jsx)("option",{value:"usd",children:"\u0414\u043e\u043b\u043b\u0430\u0440\u044b"}),Object(m.jsx)("option",{value:"eur",children:"\u0415\u0432\u0440\u043e"})]})}),Object(m.jsx)("div",{className:"calculator__field",children:Object(m.jsx)(d.a,{className:"cruptocurrency__input ".concat(Se?"valid":"disabled"),thousandsGroupStyle:"thousand",decimalSeparator:"",displayType:"input",type:"text",thousandSeparator:!0,prefix:te,allowNegative:!0,placeholder:"\u0441\u0443\u043c\u043c\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",autoComplete:"off",value:K,disabled:!Se,onChange:function(e){P(e.target.value),Fe(e.target.validity.valid),ae("usd"===re?"$":"eur"===re?"\u20ac":"\u20bd")}})}),Object(m.jsx)("button",{className:"btn__calculator btn__calculator_big ".concat(Ae?"btn_disabled":""),onClick:function(e){e.preventDefault();var t=Number(K.replace(/[^0-9]/g,""));X("rub"===re?t/g*q:"usd"===re?t/C*T:t/E*$),oe(!0)},disabled:Ae,children:"\u043f\u043e\u0441\u0447\u0438\u0442\u0430\u0442\u044c"}),Object(m.jsx)("button",{className:"btn__calculator btn__calculator_big ".concat(n?"":"btn_disabled"),onClick:function(e){e.preventDefault(),r(""),p(""),f(""),N(0),w(0),I(0),B(0),U(0),z(0),P(""),le(""),oe(!1),pe(!1),ve(!1),ye(!1),Fe(!1),ke(!1),Me(0),Ye(!0),Le(!0)},disabled:!n,children:"\u043e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0432\u0441\u0435"}),ue?Object(m.jsx)("div",{className:"calculator__container_rub",children:Object(m.jsxs)("p",{className:"calculator__total",children:["\u0421\u0435\u0439\u0447\u0430\u0441 \u0431\u044b\u043b\u043e \u0431\u044b: ",Ke,te]})}):null]})]})};a(45);l.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(f,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.4acd17ea.chunk.js.map